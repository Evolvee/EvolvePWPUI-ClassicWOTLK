<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">
	<!--Autogenerated by wowuides, Version=1.0.300.0, Culture=neutral, PublicKeyToken=null-->
	<Script file="KeyBinder.lua"/>

	<Frame name="BFBindingMode">
		<Scripts>
		<OnLoad>
			tinsert(UISpecialFrames, self:GetName());
		</OnLoad>
		<OnHide>
			BFKeyBinder.OnHideBindingMode();
		</OnHide>
		</Scripts>
	</Frame>

	<!-- Overlay to capture mouse and keyboard commands when setting a key binding -->
	<Frame name="BFBindingOverlay" parent="BFConfigureLayer" inherits="BFOverlay" enablekeyboard="true">
		<Scripts>
			<OnLoad>
				self:SetBackdropColor(unpack(BFConst.KeyBindOverlayColor));
				tinsert(UISpecialFrames, self:GetName());
			</OnLoad>
			<OnHide>
				BFKeyBinder.OnHideBindingOverlay();
			</OnHide>
			<OnKeyDown>
				BFKeyBinder.OnInputBindingOverlay(key);
			</OnKeyDown>
			<OnMouseUp>
				BFKeyBinder.OnInputBindingOverlay(button);
			</OnMouseUp>
			<OnMouseWheel>
				if (delta > 0) then
					BFKeyBinder.OnInputBindingOverlay("MOUSEWHEELUP");
				else
					BFKeyBinder.OnInputBindingOverlay("MOUSEWHEELDOWN");
				end
			</OnMouseWheel>
			<OnGamePadButtonDown>
				BFKeyBinder.OnInputBindingOverlay(button);
			</OnGamePadButtonDown>
		</Scripts>	
	</Frame>

	<Frame name="BFBindingDialog" parent="UIParent" hidden="true" clampedtoscreen="true" enablemouse="true" movable="true" frameStrata="FULLSCREEN_DIALOG">
		<!--<FrameSkin skinid="dcb143e1-a4ab-4e7c-b934-1efa40101d21" frameid="2d508883-59c2-4f83-ae10-27aaad48391b" />-->
		<Size>
			<AbsDimension x="341" y="137" />
		</Size>
		<Anchors>
			<Anchor point="CENTER" relativeTo="UIParent">
				<Offset>
					<AbsDimension x="0" y="0" />
				</Offset>
			</Anchor>
		</Anchors>
		<Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
			<BackgroundInsets>
				<AbsInset left="11" right="12" top="12" bottom="11" />
			</BackgroundInsets>
			<TileSize>
				<AbsValue val="32" />
			</TileSize>
			<EdgeSize>
				<AbsValue val="32" />
			</EdgeSize>
		</Backdrop>
		<Layers>
			<Layer>
				<Texture parentKey="TitleBorder" file="Interface\DialogFrame\UI-DialogBox-Header">
					<Size>
						<AbsDimension x="160" y="32" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="5" />
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.2" right="0.8" top="0" bottom="0.6" />
				</Texture>
				<FontString parentKey="TitleString" font="Fonts\FRIZQT__.TTF" text="Current Binding">
					<Size>
						<AbsDimension x="140" y="0" />
					</Size>
					<Anchors>
						<Anchor point="TOP">
							<Offset>
								<AbsDimension x="0" y="-4" />
							</Offset>
						</Anchor>
					</Anchors>
					<FontHeight>
						<AbsValue val="12" />
					</FontHeight>
					<Color r="1" g="0.8196079" b="0" />
					<Shadow>
						<Color r="0" g="0" b="0" />
						<Offset>
							<AbsDimension x="1" y="-1" />
						</Offset>
					</Shadow>
				</FontString>
				<Texture parentKey="ToggleBorder" file="Interface\AddOns\ButtonForge\Images\ToggleBorder.tga">
					<Size>
						<AbsDimension x="26" y="26" />
					</Size>
					<Anchors>
						<Anchor point="TOPRIGHT">
							<Offset>
								<AbsDimension x="0" y="0" />
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.8125" top="0" bottom="0.8125" />
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="Message">
				<!--<FrameSkin skinid="f15d4970-d66d-444e-bb2d-1ad102c87fed" frameid="f15d4978-d66d-444e-bb2d-1ad102c87fed" />-->
				<Size>
					<AbsDimension x="297" y="17" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="22" y="-63" />
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer>
						<FontString parentKey="Text" setAllPoints="true" font="Fonts\FRIZQT__.TTF" text="">
							<FontHeight>
								<AbsValue val="12" />
							</FontHeight>
							<Color r="1" g="0.8196079" b="0" />
							<Shadow>
								<Color r="0" g="0" b="0" />
								<Offset>
									<AbsDimension x="1" y="-1" />
								</Offset>
							</Shadow>
						</FontString>
					</Layer>
				</Layers>
			</Frame>
			<Button name="$parentBinding" inherits="UIPanelButtonTemplate">
				<!--<FrameSkin skinid="dcb143e1-a4ab-4e7c-b934-1efa40101d21" frameid="2d508884-59c2-4f83-ae10-27aaad48391b" />-->
				<Size>
					<AbsDimension x="180" y="22" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="81" y="-35" />
						</Offset>
					</Anchor>
				</Anchors>
				<NormalFont style="GameFontHighlightSmall"/>
				<DisabledFont style="GameFontDisable"/>
				<HighlightFont style="GameFontHighlightSmall"/>
				<Scripts>
					<OnClick>
						BFKeyBinder.InputBindingMode();
					</OnClick>
				</Scripts>
			</Button>
			<Button name="$parentUnbind" text="Unbind Key" inherits="UIPanelButtonTemplate">
				<!--<FrameSkin skinid="dcb143e1-a4ab-4e7c-b934-1efa40101d21" frameid="2d508884-59c2-4f83-ae10-27aaad48391b" />-->
				<Size>
					<AbsDimension x="110" y="22" />
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
						<AbsDimension x="118" y="-86" />
						</Offset>
					</Anchor>
				</Anchors>
				<Scripts>
					<OnClick>
						if (InCombatLockdown()) then
							BFBindingDialog.Message.Text:SetText("You Cannot Update Bindings While in Combat");
							return;
						end
						BFKeyBinder.UpdateBinding(nil);
					</OnClick>
				</Scripts>
			</Button>
			<Button parentKey="Toggle">
				<Size>
					<AbsDimension x="32" y="32"/>
				</Size>
				<Anchors>
					<Anchor point="TOPRIGHT">
						<Offset>
						<AbsDimension x="5" y="5"/>
						</Offset>
					</Anchor>
				</Anchors>
				<NormalTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Up"/>
				<PushedTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Down"/>
				<HighlightTexture file="Interface\Buttons\UI-Panel-MinimizeButton-Highlight" alphaMode="ADD"/>
				<Scripts>
					<OnClick>
						BFKeyBinder.HideBindingDialog();
					</OnClick>
				</Scripts>
			</Button>
		</Frames>
		<Scripts>
			<OnLoad>
				tinsert(UISpecialFrames, self:GetName());
			</OnLoad>
			<OnHide>
				BFKeyBinder.OnHideBindingDialog();
			</OnHide>
			<OnMouseDown>
				self:StartMoving();
			</OnMouseDown>
			<OnMouseUp>
				self:StopMovingOrSizing();
				BFKeyBinder.OnInputBindingOverlay(button);
			</OnMouseUp>
			<OnMouseWheel>
				if (delta > 0) then
					BFKeyBinder.OnInputBindingOverlay("MOUSEWHEELUP");
				else
					BFKeyBinder.OnInputBindingOverlay("MOUSEWHEELDOWN");
				end
			</OnMouseWheel>

		</Scripts>
	</Frame>
</Ui>
